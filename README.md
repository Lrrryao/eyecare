# å¥åº·æé†’åŠ©æ‰‹ (fedoraç‰ˆ)

è¿™æ˜¯ä¸€ä¸ªä¸“ä¸º Linux ç³»ç»Ÿè®¾è®¡çš„è‡ªåŠ¨åŒ–å¥åº·æé†’ç³»ç»Ÿï¼ŒåŒ…å«çœ¼ç›ä¼‘æ¯æé†’å’Œå–æ°´æé†’åŠŸèƒ½ã€‚æ”¯æŒ Fedoraå‘è¡Œç‰ˆã€‚



## ğŸ“ æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒç¨‹åº
- `simple_scheduler.py` - ä¸»ç¨‹åºï¼Œè´Ÿè´£å®šæ—¶ä»»åŠ¡ç®¡ç†å’Œåå°è¿è¡Œ
- `health_reminder_manager.py` - å›¾å½¢ç®¡ç†ç•Œé¢ï¼Œç”¨äºé…ç½®å’Œç›‘æ§
- `settings_manager.py` - è®¾ç½®ç®¡ç†å™¨
- `settings_window.py` - è®¾ç½®çª—å£ç•Œé¢

### æé†’ç¨‹åº
- `eye/eyecare.py` - çœ¼ç›ä¼‘æ¯æé†’çª—å£
- `drink_water.py` - å–æ°´æé†’çª—å£

### éƒ¨ç½²è„šæœ¬ (deploy/)
- `start_health_manager.sh` - å¯åŠ¨å¥åº·æé†’ç®¡ç†å™¨
- `install_desktop_shortcut.sh` - å®‰è£…æ¡Œé¢å¿«æ·æ–¹å¼
- `uninstall_desktop_shortcut.sh` - ç§»é™¤æ¡Œé¢å¿«æ·æ–¹å¼
- `install_autostart.sh` - è®¾ç½®å¼€æœºè‡ªå¯åŠ¨
- `uninstall_autostart.sh` - ç§»é™¤å¼€æœºè‡ªå¯åŠ¨

### é…ç½®æ–‡ä»¶
- `user_settings.json` - ç”¨æˆ·è®¾ç½®æ–‡ä»¶
- `scheduler_status.json` - ç¨‹åºçŠ¶æ€æ–‡ä»¶ï¼ˆè¿è¡Œæ—¶è‡ªåŠ¨ç”Ÿæˆï¼‰
- `requirements.txt` - Python ä¾èµ–åŒ…åˆ—è¡¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# Fedora/CentOS/RHEL
sudo dnf install python3-PyQt5 python3-pip

# Ubuntu/Debian
sudo apt install python3-pyqt5 python3-pip
```

### 2. å¯åŠ¨ç¨‹åº

```bash
# æ–¹å¼1ï¼šç›´æ¥å¯åŠ¨ç®¡ç†å™¨ï¼ˆæ¨èï¼‰
python3 health_reminder_manager.py

# æ–¹å¼2ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
./deploy/start_health_manager.sh

# æ–¹å¼3ï¼šç›´æ¥å¯åŠ¨åå°ç¨‹åº
python3 simple_scheduler.py
```

### 3. å®‰è£…æ¡Œé¢å¿«æ·æ–¹å¼ï¼ˆå¯é€‰ï¼‰

```bash
./deploy/install_desktop_shortcut.sh
```

å®‰è£…åå¯ä»¥åœ¨åº”ç”¨ç¨‹åºèœå•ä¸­æ‰¾åˆ°"å¥åº·æé†’ç®¡ç†å™¨"ã€‚

### 4. è®¾ç½®å¼€æœºè‡ªå¯åŠ¨ï¼ˆå¯é€‰ï¼‰

```bash
./deploy/install_autostart.sh
```

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### å›¾å½¢ç®¡ç†ç•Œé¢

1. **å¯åŠ¨ç®¡ç†å™¨**ï¼šè¿è¡Œ `python3 health_reminder_manager.py`
2. **è°ƒæ•´è®¾ç½®**ï¼š
   - ä¿®æ”¹çœ¼ç›ä¼‘æ¯é—´éš”ï¼ˆé»˜è®¤40åˆ†é’Ÿï¼‰
   - ä¿®æ”¹å–æ°´æé†’é—´éš”ï¼ˆé»˜è®¤30åˆ†é’Ÿï¼‰
   - é€‰æ‹©æ˜¯å¦æ˜¾ç¤ºå¯åŠ¨é€šçŸ¥
3. **åº”ç”¨è®¾ç½®**ï¼šç‚¹å‡»"åº”ç”¨è®¾ç½®"æŒ‰é’®ï¼Œè®¾ç½®ç«‹å³ç”Ÿæ•ˆ
4. **å¯åŠ¨ç¨‹åº**ï¼šç‚¹å‡»"å¯åŠ¨æé†’ç¨‹åº"å¼€å§‹åå°è¿è¡Œ
5. **ç›‘æ§çŠ¶æ€**ï¼šæŸ¥çœ‹"ä¸‹æ¬¡æé†’"æ—¶é—´å€’è®¡æ—¶

### ç¨‹åºæ§åˆ¶

- **å¯åŠ¨ç¨‹åº**ï¼šåœ¨ç®¡ç†å™¨ä¸­ç‚¹å‡»"å¯åŠ¨æé†’ç¨‹åº"
- **åœæ­¢ç¨‹åº**ï¼šåœ¨ç®¡ç†å™¨ä¸­ç‚¹å‡»"åœæ­¢æé†’ç¨‹åº"
- **é‡å¯ç¨‹åº**ï¼šåœ¨ç®¡ç†å™¨ä¸­ç‚¹å‡»"é‡å¯ç¨‹åº"
- **æµ‹è¯•æé†’**ï¼šä½¿ç”¨"æµ‹è¯•çœ¼ç›æé†’"å’Œ"æµ‹è¯•å–æ°´æé†’"æŒ‰é’®

### ç³»ç»Ÿæ‰˜ç›˜æ“ä½œï¼ˆX11ç¯å¢ƒï¼‰

å¦‚æœç³»ç»Ÿæ‰˜ç›˜å¯ç”¨ï¼Œå³é”®ç‚¹å‡»æ‰˜ç›˜å›¾æ ‡å¯ä»¥ï¼š
- ç«‹å³è§¦å‘çœ¼ç›ä¼‘æ¯æé†’
- ç«‹å³è§¦å‘å–æ°´æé†’
- æŸ¥çœ‹å½“å‰çŠ¶æ€
- æ‰“å¼€è®¾ç½®çª—å£
- é€€å‡ºç¨‹åº

## âš™ï¸ é…ç½®è¯´æ˜

### é€šè¿‡å›¾å½¢ç•Œé¢é…ç½®ï¼ˆæ¨èï¼‰

ä½¿ç”¨ `health_reminder_manager.py` å›¾å½¢ç•Œé¢ï¼š
- å®æ—¶è°ƒæ•´æé†’é—´éš”
- ç«‹å³åº”ç”¨è®¾ç½®
- æŸ¥çœ‹è¿è¡ŒçŠ¶æ€

### æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶

ç¼–è¾‘ `user_settings.json` æ–‡ä»¶ï¼š

```json
{
  "eye_interval": 40,
  "water_interval": 30,
  "startup_message": true,
  "display_time": 5
}
```

## ğŸ”§ ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Linux (Fedora, Ubuntu, Debian, CentOS ç­‰)
- **Python**: Python 3.6+
- **ä¾èµ–åŒ…**: PyQt5
- **æ¡Œé¢ç¯å¢ƒ**: GNOME, KDE, XFCE ç­‰ï¼ˆæ”¯æŒ Wayland æˆ– X11ï¼‰

## ğŸ“‹ ç®¡ç†å‘½ä»¤

### æœåŠ¡ç®¡ç†

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
systemctl --user status eyecare

# å¯åŠ¨æœåŠ¡
systemctl --user start eyecare

# åœæ­¢æœåŠ¡
systemctl --user stop eyecare

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
journalctl --user -u eyecare -f
```

### è¿›ç¨‹ç®¡ç†

```bash
# æŸ¥çœ‹è¿è¡Œä¸­çš„ç¨‹åº
ps aux | grep simple_scheduler

# åœæ­¢æ‰€æœ‰ç›¸å…³è¿›ç¨‹
pkill -f simple_scheduler.py
```

## ğŸ—‘ï¸ å¸è½½

### ç§»é™¤æ¡Œé¢å¿«æ·æ–¹å¼
```bash
./deploy/uninstall_desktop_shortcut.sh
```

### ç§»é™¤å¼€æœºè‡ªå¯åŠ¨
```bash
./deploy/uninstall_autostart.sh
```

### å®Œå…¨å¸è½½
```bash
# åœæ­¢æ‰€æœ‰ç›¸å…³è¿›ç¨‹
pkill -f simple_scheduler.py

# åˆ é™¤é¡¹ç›®ç›®å½•
rm -rf /home/$(whoami)/internship/backend/projects/eyecare
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **PyQt5 æœªå®‰è£…**
   ```bash
   sudo dnf install python3-PyQt5  # Fedora
   sudo apt install python3-pyqt5  # Ubuntu
   ```

2. **ç³»ç»Ÿæ‰˜ç›˜ä¸å¯ç”¨**
   - åœ¨ Wayland ç¯å¢ƒä¸‹ï¼Œç¨‹åºä¼šè‡ªåŠ¨ä½¿ç”¨ç³»ç»Ÿé€šçŸ¥
   - åœ¨ X11 ç¯å¢ƒä¸‹ï¼Œç¡®ä¿ç³»ç»Ÿæ‰˜ç›˜æœåŠ¡æ­£åœ¨è¿è¡Œ

3. **æƒé™é—®é¢˜**
   ```bash
   chmod +x deploy/*.sh
   ```

4. **æ¡Œé¢å¿«æ·æ–¹å¼ä¸æ˜¾ç¤º**
   ```bash
   ./deploy/install_desktop_shortcut.sh
   update-desktop-database ~/.local/share/applications
   ```

### æ—¥å¿—æŸ¥çœ‹

- **ç®¡ç†å™¨æ—¥å¿—**ï¼šåœ¨å›¾å½¢ç•Œé¢çš„æ—¥å¿—åŒºåŸŸæŸ¥çœ‹
- **ç³»ç»ŸæœåŠ¡æ—¥å¿—**ï¼š`journalctl --user -u eyecare -f`
- **ç¨‹åºè¾“å‡º**ï¼šç›´æ¥è¿è¡Œ `python3 simple_scheduler.py` æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

---

**æ³¨æ„**: è¿™ä¸ªç‰ˆæœ¬ä¸“ä¸º Linux ç³»ç»Ÿè®¾è®¡ï¼Œä¸ Windows ç‰ˆæœ¬ä¸å…¼å®¹ã€‚å¦‚éœ€ Windows ç‰ˆæœ¬ï¼Œè¯·æŸ¥çœ‹å…¶ä»–åˆ†æ”¯ã€‚